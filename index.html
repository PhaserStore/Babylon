<!doctype html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <title>Virtual Gallery â€” LED Â· Layout Â· URL loader</title>

  <style>
    html,body{width:100%;height:100%;margin:0;overflow:hidden;background:#111;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
    #renderCanvas{width:100%;height:100%;display:block;touch-action:none}

    /* ===== ADMIN UI ===== */
    #ui{
      position:fixed;top:12px;left:12px;right:12px;z-index:10;
      display:flex;flex-wrap:wrap;gap:8px;align-items:center;
      background:rgba(15,15,18,.65);border:1px solid rgba(255,255,255,.15);
      border-radius:10px;padding:10px 12px;color:#fff;backdrop-filter:blur(6px)
    }
    .group{display:flex;gap:8px;align-items:center;background:rgba(40,40,44,.5);padding:8px 10px;border-radius:8px}
    input,button,textarea{padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,.2);background:#3a3a3a;color:#fff}
    button:hover{background:#575757}
    textarea{min-width:320px;min-height:80px}
    #hint{flex-basis:100%;font-size:12px;color:#ccc}
    /* VIEW mÃ³d = ÄistÃ¡ vÃ½stava (UI nevidÄ›t) */
    body.view #ui{display:none}
    label{display:flex;gap:6px;align-items:center}

    /* Publish btn â€“ vidÄ›t jen v ADMIN mÃ³du */
    #publishBtn{
      position:fixed;top:12px;right:12px;z-index:9999;padding:8px 12px;
      display:none;
    }
    body.admin #publishBtn{ display:inline-flex; }
  </style>

  <!-- Babylon.js + GUI (SPRÃVNÃ‰ skript tagy) -->
  <script src="https://cdn.babylonjs.com/babylon.js"></script>
  <script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script>
</head>

<body class="view">
  <!-- Publish to GitHub Issue (jen v ADMIN mÃ³du) -->
  <button id="publishBtn" title="Publikovat JSON do GitHub Issue">Publish to GitHub</button>

  <!-- ===== UI (ADMIN â€“ zobrazÃ­ se aÅ¾ po klÃ¡vese A) ===== -->
  <div id="ui">
    <div class="group">
      <label>URL <input id="imgUrl" size="38" placeholder="https://... (.avif/.jpg/.png/.webp)"></label>
      <button id="btnLoad">NaÄÃ­st do vybranÃ©ho rÃ¡mu</button>
      <button id="btnDemo">NaÄÃ­st DEMO bez URL</button>
    </div>

    <div class="group">
      <label>NÃ¡zev <input id="title" placeholder="NÃ¡zev dÃ­la" size="16"></label>
      <label>SkrytÃ¡ URL <input id="link" placeholder="https://..." size="18"></label>
      <button id="btnPlacard">Aktualizovat cedulku</button>
    </div>

    <div class="group">
      <label>Ãšsek X od <input id="lxStart" type="number" step="0.1" value="-6.5" style="width:80px"></label>
      <label>do <input id="lxEnd" type="number" step="0.1" value="6.5" style="width:80px"></label>
      <label>Mezera <input id="lxSpace" type="range" min="1.6" max="3.0" step="0.1" value="2.2"></label>
      <button id="btnApplyLayout">PouÅ¾Ã­t layout</button>
      <button id="btnAdd">â• PÅ™idat rÃ¡m</button>
      <button id="btnResetCam">ğŸ¥ Reset kamery</button>
    </div>

    <div id="hint">A = ADMIN Â· V = VIEW Â· Klik na rÃ¡m = vÃ½bÄ›r (modrÃ½ lem). Dvojklik = pÅ™iblÃ­Å¾enÃ­. Klik na cedulku = skrytÃ¡ URL.</div>
  </div>

  <!-- ===== Canvas ===== -->
  <canvas id="renderCanvas"></canvas>

  <!-- TvÅ¯j hlavnÃ­ skript -->
  <script src="./script.js"></script>
</body>
</html>
